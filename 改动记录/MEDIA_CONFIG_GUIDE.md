# ğŸ“º åª’ä½“æœåŠ¡å™¨é…ç½®æŒ‡å—

## ğŸ“‹ **æ¦‚è¿°**

åª’ä½“æœåŠ¡å™¨é…ç½®ç°å·²å®Œå…¨é›†æˆåˆ° `conf.yaml` ä¸­ï¼Œæ— éœ€å•ç‹¬çš„é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒè·¨å¹³å°éƒ¨ç½²ã€‚

## âš™ï¸ **é…ç½®é€‰é¡¹**

åœ¨ `conf.yaml` çš„ `system_config` éƒ¨åˆ†å·²æ·»åŠ  `media_server` é…ç½®ï¼š

```yaml
system_config:
  # ... å…¶ä»–é…ç½® ...
  
  # åª’ä½“æœåŠ¡å™¨é…ç½® - ç”¨äºå¹¿å‘Šè§†é¢‘å’Œæ´—è¡£æœºæ•™ç¨‹è§†é¢‘
  media_server:
    host: 127.0.0.1 # åª’ä½“æœåŠ¡å™¨ä¸»æœº (ç”Ÿäº§ç¯å¢ƒå¯æ”¹ä¸º 0.0.0.0)
    port: 12393     # åª’ä½“æœåŠ¡å™¨ç«¯å£ (ä¸ä¸»æœåŠ¡å™¨ç«¯å£ä¸€è‡´)
    ads_directory: 'ads'        # å¹¿å‘Šè§†é¢‘ç›®å½•
    videos_directory: 'videos'  # æ´—è¡£æœºæ•™ç¨‹è§†é¢‘ç›®å½•
    # è·¨å¹³å°å…¼å®¹é…ç½®
    use_absolute_paths: false   # æ˜¯å¦ä½¿ç”¨ç»å¯¹è·¯å¾„ (LinuxæœåŠ¡å™¨å»ºè®®è®¾ä¸ºtrue)
    base_directory: null        # åŸºç¡€ç›®å½• (nullè¡¨ç¤ºä½¿ç”¨å½“å‰å·¥ä½œç›®å½•)
```

## ğŸŒ **ä¸åŒç¯å¢ƒé…ç½®**

### **æœ¬åœ°å¼€å‘ç¯å¢ƒ**
```yaml
media_server:
  host: 127.0.0.1
  port: 12393
  ads_directory: 'ads'
  videos_directory: 'videos'
  use_absolute_paths: false
  base_directory: null
```

### **LinuxæœåŠ¡å™¨éƒ¨ç½²**
```yaml
media_server:
  host: 0.0.0.0  # å…è®¸å¤–éƒ¨è®¿é—®
  port: 12393
  ads_directory: 'ads'
  videos_directory: 'videos'
  use_absolute_paths: true
  base_directory: '/opt/theprojectyin'
```

### **WindowsæœåŠ¡å™¨éƒ¨ç½²**
```yaml
media_server:
  host: 0.0.0.0
  port: 12393
  ads_directory: 'ads'
  videos_directory: 'videos'
  use_absolute_paths: true
  base_directory: 'D:\Projects\TheProjectYin'
```

## ğŸ”§ **é…ç½®å‚æ•°è¯´æ˜**

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `host` | åª’ä½“æœåŠ¡å™¨ä¸»æœºåœ°å€ | `127.0.0.1` | `0.0.0.0` |
| `port` | åª’ä½“æœåŠ¡å™¨ç«¯å£ | `12393` | `8080` |
| `ads_directory` | å¹¿å‘Šè§†é¢‘ç›®å½• | `ads` | `/opt/app/ads` |
| `videos_directory` | æ´—è¡£æœºæ•™ç¨‹ç›®å½• | `videos` | `/opt/app/videos` |
| `use_absolute_paths` | æ˜¯å¦ä½¿ç”¨ç»å¯¹è·¯å¾„ | `false` | `true` |
| `base_directory` | åŸºç¡€ç›®å½• | `null` | `/opt/theprojectyin` |

## ğŸš€ **è‡ªåŠ¨åŠŸèƒ½**

### âœ… **è·¨å¹³å°å…¼å®¹**
- è‡ªåŠ¨å¤„ç† Windows `\` å’Œ Linux `/` è·¯å¾„åˆ†éš”ç¬¦
- æ”¯æŒç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„
- æ™ºèƒ½è·¯å¾„è§£æ

### âœ… **é”™è¯¯æ¢å¤**
- é…ç½®åŠ è½½å¤±è´¥æ—¶è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼
- ç›®å½•ä¸å­˜åœ¨æ—¶fallbackåˆ°å‚æ•°æŒ‡å®šç›®å½•
- å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### âœ… **URLç”Ÿæˆ**
- è‡ªåŠ¨ç”Ÿæˆæ­£ç¡®çš„è§†é¢‘URL
- æ”¯æŒè‡ªå®šä¹‰ä¸»æœºå’Œç«¯å£
- è·¨å¹³å°URLæ ¼å¼åŒ–

## ğŸ“‚ **ç›®å½•ç»“æ„ç¤ºä¾‹**

### **å¼€å‘ç¯å¢ƒ**
```
TheProjectYin/
â”œâ”€â”€ ads/                    # å¹¿å‘Šè§†é¢‘
â”‚   â”œâ”€â”€ Phantom.mp4
â”‚   â””â”€â”€ Hokkaido.mp4
â”œâ”€â”€ videos/                 # æ´—è¡£æœºæ•™ç¨‹
â”‚   â”œâ”€â”€ machine_1.mp4
â”‚   â””â”€â”€ machine_2.mp4
â””â”€â”€ conf.yaml              # ç»Ÿä¸€é…ç½®æ–‡ä»¶
```

### **ç”Ÿäº§æœåŠ¡å™¨**
```
/opt/theprojectyin/        # LinuxæœåŠ¡å™¨
â”œâ”€â”€ ads/
â”œâ”€â”€ videos/
â””â”€â”€ conf.yaml

D:\WebApps\TheProjectYin\  # WindowsæœåŠ¡å™¨
â”œâ”€â”€ ads\
â”œâ”€â”€ videos\
â””â”€â”€ conf.yaml
```

## ğŸ” **éªŒè¯é…ç½®**

å¯åŠ¨æœåŠ¡å™¨åï¼Œæ£€æŸ¥æ—¥å¿—è¾“å‡ºï¼š
```
âœ… Loaded advertisement: Phantom
âœ… Loaded advertisement: Hokkaido
âœ… å‘ç° 2 ä¸ªæ´—è¡£æœºæ•™ç¨‹è§†é¢‘
  - 1: machine_1
  - 2: machine_2
```

## ğŸ› **æ•…éšœæ’é™¤**

### **è§†é¢‘æ— æ³•æ’­æ”¾**
1. æ£€æŸ¥ `ads_directory` å’Œ `videos_directory` è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤è§†é¢‘æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ”¯æŒ
3. éªŒè¯ `host` å’Œ `port` é…ç½®

### **è·¯å¾„é”™è¯¯**
1. WindowsæœåŠ¡å™¨è®¾ç½® `use_absolute_paths: true`
2. æ£€æŸ¥ `base_directory` æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ç›®å½•æƒé™

### **è·¨åŸŸé—®é¢˜**
1. ç”Ÿäº§ç¯å¢ƒè®¾ç½® `host: 0.0.0.0`
2. æ£€æŸ¥é˜²ç«å¢™ç«¯å£å¼€æ”¾
3. éªŒè¯CORSé…ç½®

## ğŸ¯ **æœ€ä½³å®è·µ**

1. **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨é»˜è®¤é…ç½®å³å¯
2. **ç”Ÿäº§ç¯å¢ƒ**ï¼šè®¾ç½®ç»å¯¹è·¯å¾„å’Œå¤–éƒ¨è®¿é—®
3. **Dockeréƒ¨ç½²**ï¼šä½¿ç”¨å®¹å™¨å†…è·¯å¾„
4. **è´Ÿè½½å‡è¡¡**ï¼šé…ç½®ç»Ÿä¸€çš„åª’ä½“æœåŠ¡å™¨

---

**ç°åœ¨ä½ çš„åª’ä½“é…ç½®å®Œå…¨é›†æˆåœ¨ `conf.yaml` ä¸­ï¼Œæ”¯æŒä»»æ„å¹³å°éƒ¨ç½²ï¼** ğŸ‰